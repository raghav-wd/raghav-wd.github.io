(this["webpackJsonpraghav-wd.github.io"]=this["webpackJsonpraghav-wd.github.io"]||[]).push([[0],{43:function(e,t,n){},44:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var c=n(5),r=n.n(c),i=n(34),a=n.n(i),s=(n(43),n(44),n(10)),o=n(8),j=n(9),u=n(0),b=n(13),l=n(24),O=n(53),d=n(52),f=n(51),p=n(55),m=n(54),x=n(35),h=n(11);function v(e){var t=Object(l.c)((function(){return Object(o.a)({rotation:[-Math.PI/2,0,0]},e)})),n=Object(j.a)(t,1)[0];return Object(h.jsxs)("mesh",Object(o.a)(Object(o.a)({ref:n},e),{},{rotation:[-Math.PI/2,0,0],children:[Object(h.jsx)("planeBufferGeometry",{args:[100,100]}),Object(h.jsx)("meshStandardMaterial",{color:"orange"})]}))}var y=function(){var e,t,n=.15,r=Object(c.useState)("walk"),i=Object(j.a)(r,2),a=(i[0],i[1],new u.Vector3),y=new u.Vector3,w=new u.Vector3;new u.Vector3,new u.Vector3;Object(c.useEffect)((function(){e=new x.a,t=e.addFolder("Person"),e.addFolder("Camera")}),[]);var g={KeyW:"forward",KeyS:"backward",KeyA:"left",KeyD:"right",Space:"jump"},k=function(e){return g[e]},S=function(e){var t=Object(O.a)("./libs/stylized_tree/scene.gltf");return Object(h.jsx)("primitive",Object(o.a)(Object(o.a)({},e),{},{scale:[.01,.01,.01],object:t.scene,dispose:null}))},E=function(e){var t=Object(O.a)("./libs/low_poly_stylized_juice_cup/scene.gltf");return Object(h.jsx)("primitive",Object(o.a)(Object(o.a)({},e),{},{position:[4,1,4],object:t.scene,dispose:null}))},z=function(e){var t=Object(O.a)("./libs/piano/scene.gltf");return Object(h.jsx)("primitive",Object(o.a)(Object(o.a)({},e),{},{rotation:[0,-Math.PI/2,0],position:[4,.2,7],object:t.scene,dispose:null}))},P=function(){var e=Object(d.a)("./libs/walking.fbx"),r=Object(f.a)(e.animations),i=r.ref,u=(r.mixer,r.names),O=r.actions,p=(r.clips,function(){var e=Object(c.useState)({forward:!1,backward:!1,left:!1,right:!1,jump:!1}),t=Object(j.a)(e,2),n=t[0],r=t[1];return Object(c.useEffect)((function(){var e=function(e){r((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(s.a)({},k(e.code),!0))}))},t=function(e){r((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(s.a)({},k(e.code),!1))}))};return document.addEventListener("keydown",e),document.addEventListener("keyup",t),function(){document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}}),[]),n}()),m=p.forward,x=p.backward,v=p.left,g=p.right,S=(p.jump,Object(c.useRef)(null),Object(b.f)().camera),E=Object(c.useRef)([0,0,0]),z=Object(l.d)((function(){return{mass:10,position:[0,1,0],type:"Dynamic"}})),P=Object(j.a)(z,2),I=P[0],L=P[1];return Object(c.useEffect)((function(){return y.set(0,0,Number(m)-Number(x)),w.set(Number(g)-Number(v),0,0),a.subVectors(y,w).normalize().multiplyScalar(2),(m||g||v)&&(O["Take 001"].reset().fadeOut(n),O["mixamo.com"].reset().fadeIn(n).play()),function(){(m||g||v)&&(O["Take 001"].reset().fadeIn(n).play(),O["mixamo.com"].reset().fadeOut(n))}}),[m,x,g,v]),Object(c.useEffect)((function(){O["Take 001"].play(),console.log(u),S.position.set(0,0,-4),S.lookAt(0,0,0),L.velocity.subscribe((function(e){return E.current=e}))}),[]),Object(b.d)((function(){I.current.getWorldPosition(S.position),I.current.getWorldPosition(i.current.position),S.position.z-=4,L.velocity.set(a.x,E.current[1],a.z),i.current.position.y-=1})),Object(c.useEffect)((function(){t&&t&&(t.add(i.current.position,"x").min(0).max(5).step(.1).name("x"),t.add(i.current.position,"y").min(0).max(5).step(.1).name("y"),t.add(i.current.position,"z").min(0).max(5).step(.05).name("z"),t.add(i.current,"visible"))}),[]),Object(h.jsxs)("mesh",{children:[Object(h.jsx)("mesh",{ref:I}),Object(h.jsx)("primitive",{scale:.015,ref:i,object:e,dispose:null})]})};return Object(h.jsxs)(b.a,{dpr:[1,2],camera:{fov:45},style:{height:"100vh",width:"100%"},children:[Object(h.jsx)(p.a,{showPanel:0,className:"stats"}),Object(h.jsx)(m.a,{distance:45e4,sunPosition:[0,1,0],inclination:0,azimuth:.25}),Object(h.jsx)("ambientLight",{}),Object(h.jsx)("axesHelper",{args:[100]}),Object(h.jsx)("pointLight",{position:[-5,10,0]}),Object(h.jsx)(c.Suspense,{fallback:null,children:Object(h.jsx)(S,{position:[2,0,0]})}),Object(h.jsx)(c.Suspense,{fallback:null,children:Object(h.jsx)(E,{})}),Object(h.jsx)(c.Suspense,{fallback:null,children:Object(h.jsx)(z,{})}),Object(h.jsxs)(l.a,{children:[Object(h.jsx)(v,{}),Object(h.jsx)(c.Suspense,{fallback:null,children:Object(h.jsx)(P,{})})]})]})};var w=function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(y,{})})},g=n(21),k=function(e){e&&e instanceof Function&&(Object(g.a)(e),Object(g.c)(e),Object(g.b)(e),Object(g.d)(e),Object(g.e)(e))};a.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(w,{})}),document.getElementById("root")),k()}},[[49,1,2]]]);
//# sourceMappingURL=main.a371f58a.chunk.js.map