(this["webpackJsonpraghav-wd.github.io"]=this["webpackJsonpraghav-wd.github.io"]||[]).push([[0],{42:function(e,t,n){},43:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var c=n(5),r=n.n(c),a=n(33),i=n.n(a),o=(n(42),n(43),n(10)),s=n(8),u=n(9),b=n(2),j=n(14),d=n(31),f=n(52),O=n(51),l=n(53),m=n(34),p=n(12);function h(e){var t=Object(d.b)((function(){return Object(s.a)({rotation:[-Math.PI/2,0,0]},e)})),n=Object(u.a)(t,1)[0];return Object(p.jsxs)("mesh",Object(s.a)(Object(s.a)({ref:n},e),{},{rotation:[-Math.PI/2,0,0],children:[Object(p.jsx)("planeBufferGeometry",{args:[100,100]}),Object(p.jsx)("meshStandardMaterial",{color:"orange"})]}))}var x=function(){var e,t,n=.15,r=Object(c.useState)("walk"),a=Object(u.a)(r,2),i=(a[0],a[1],new b.Vector3),x=new b.Vector3,v=new b.Vector3;new b.Vector3,new b.Vector3;Object(c.useEffect)((function(){e=new m.a,t=e.addFolder("Person"),e.addFolder("Camera")}),[]);var w={KeyW:"forward",KeyS:"backward",KeyA:"left",KeyD:"right",Space:"jump"},y=function(e){return w[e]},g=function(){var e=Object(f.a)("./libs/Xbot.glb","/draco-gltf"),r=Object(O.a)(e.animations),a=r.ref,b=(r.mixer,r.names,r.actions),l=(r.clips,function(){var e=Object(c.useState)({forward:!1,backward:!1,left:!1,right:!1,jump:!1}),t=Object(u.a)(e,2),n=t[0],r=t[1];return Object(c.useEffect)((function(){var e=function(e){r((function(t){return Object(s.a)(Object(s.a)({},t),{},Object(o.a)({},y(e.code),!0))}))},t=function(e){r((function(t){return Object(s.a)(Object(s.a)({},t),{},Object(o.a)({},y(e.code),!1))}))};return document.addEventListener("keydown",e),document.addEventListener("keyup",t),function(){document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}}),[]),n}()),m=l.forward,h=l.backward,w=l.left,g=l.right,k=(l.jump,Object(c.useRef)(null),Object(j.f)().camera),E=Object(c.useRef)([0,0,0]),S=Object(d.c)((function(){return{mass:1,position:[0,1,0],type:"Dynamic"}})),N=Object(u.a)(S,2),P=N[0],V=N[1];return Object(c.useEffect)((function(){return x.set(0,0,Number(m)-Number(h)),v.set(Number(g)-Number(w),0,0),i.subVectors(x,v).normalize().multiplyScalar(5),(m||g||w)&&(b.idle.reset().fadeOut(n),b.walk.reset().fadeIn(n).play()),function(){(m||g||w)&&(b.idle.reset().fadeIn(n).play(),b.walk.reset().fadeOut(n))}}),[m,h,g,w]),Object(c.useEffect)((function(){b.idle.play(),k.position.set(0,1.45,-4.25),k.lookAt(0,1.45,0),V.velocity.subscribe((function(e){return E.current=e}))}),[]),Object(j.d)((function(){P.current.getWorldPosition(k.position),P.current.getWorldPosition(a.current.position),k.position.z-=4,V.velocity.set(i.x,E.current[1],i.z),a.current.position.y-=1})),Object(c.useEffect)((function(){t&&t&&(t.add(a.current.position,"x").min(0).max(5).step(.1).name("x"),t.add(a.current.position,"y").min(0).max(5).step(.1).name("y"),t.add(a.current.position,"z").min(0).max(5).step(.05).name("z"),t.add(a.current,"visible"))}),[]),Object(p.jsxs)("mesh",{children:[Object(p.jsx)("mesh",{ref:P}),Object(p.jsx)("primitive",{ref:a,object:e.scene,dispose:null})]})};return Object(p.jsxs)(j.a,{dpr:[1,2],camera:{fov:45},style:{height:"100vh",width:"100%"},children:[Object(p.jsx)(l.a,{showPanel:0,className:"stats"}),Object(p.jsx)("ambientLight",{}),Object(p.jsx)("axesHelper",{args:[100]}),Object(p.jsxs)(d.a,{children:[Object(p.jsx)(h,{}),Object(p.jsx)(c.Suspense,{fallback:null,children:Object(p.jsx)(g,{})})]})]})};var v=function(){return Object(p.jsx)("div",{className:"App",children:Object(p.jsx)(x,{})})},w=n(21),y=function(e){e&&e instanceof Function&&(Object(w.a)(e),Object(w.c)(e),Object(w.b)(e),Object(w.d)(e),Object(w.e)(e))};i.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(v,{})}),document.getElementById("root")),y()}},[[48,1,2]]]);
//# sourceMappingURL=main.937a0b0c.chunk.js.map