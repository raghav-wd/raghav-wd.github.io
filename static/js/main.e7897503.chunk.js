(this["webpackJsonpraghav-wd.github.io"]=this["webpackJsonpraghav-wd.github.io"]||[]).push([[0],{44:function(e,t,n){},45:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var c=n(5),r=n.n(c),a=n(35),i=n.n(a),o=(n(44),n(45),n(8)),s=n(9),u=n(13),j=n(20),l=n(53),b=n(55),f=n(54),O=n(1),p=n(51),d=n(52),m=n(11),h=function(){var e={KeyW:"forward",KeyS:"backward",KeyA:"left",KeyD:"right",Space:"jump"},t=function(t){return e[t]},n=Object(c.useState)({forward:!1,backward:!1,left:!1,right:!1,jump:!1}),r=Object(s.a)(n,2),a=r[0],i=r[1];return Object(c.useEffect)((function(){var e=function(e){i((function(n){return Object(o.a)(Object(o.a)({},n),{},Object(m.a)({},t(e.code),!0))}))},n=function(e){i((function(n){return Object(o.a)(Object(o.a)({},n),{},Object(m.a)({},t(e.code),!1))}))};return document.addEventListener("keydown",e),document.addEventListener("keyup",n),function(){document.removeEventListener("keydown",e),document.removeEventListener("keyup",n)}}),[]),a},x=n(12),v=function(e){var t=new O.Vector3(-10,.5,10),n=new O.Vector3(0,2,5);Object(u.d)((function(c,r){if("skills"===e){var a;c.camera.fov=O.MathUtils.damp(c.camera.fov,20,2,r),function(e,t,n,c){arguments.length>4&&void 0!==arguments[4]||new O.Vector3,e instanceof O.Vector3&&(e.x=O.MathUtils.damp(e.x,t[0],n,c),e.y=O.MathUtils.damp(e.y,t[1],n,c),e.z=O.MathUtils.damp(e.z,t[2],n,c))}(c.camera.position,Object(x.a)(n),2,r),(a=c.camera).lookAt.apply(a,Object(x.a)(t)),c.camera.updateProjectionMatrix()}}))},y=n(10),g=function(e){var t=e.page,n=e.setPage,r=.15,a=Object(u.f)().camera,i=new O.Vector3,o=new O.Vector3,b=new O.Vector3,f=(new O.Vector3,Object(l.a)("./libs/Pikachu.glb",!0)),m=Object(p.a)(f.animations),x=m.ref,v=(m.mixer,m.names,m.actions),g=(m.clips,h()),w=g.forward,M=g.backward,P=g.left,k=g.right,I=g.jump,S=Object(c.useRef)([0,0,0]),V=Object(c.useRef)(null),E=Object(j.d)((function(){return{mass:10,position:[0,1,0],type:"Dynamic"}})),z=Object(s.a)(E,2),L=z[0],N=z[1];return Object(c.useEffect)((function(){if(""!==t){var e=new O.Frustum,c=(new O.Matrix4).multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse);e.setFromProjectionMatrix(c),e.containsPoint(x.current.position)||(console.log("Out of view"),n(""))}return(w||k||P||M)&&(v["Happy Idle"].reset().fadeOut(r),v.Walking.reset().fadeIn(r).play()),function(){(w||k||P||M)&&(v["Happy Idle"].reset().fadeIn(r).play(),v.Walking.reset().fadeOut(r))}}),[w,M,k,P,I]),Object(c.useEffect)((function(){v["Happy Idle"].play(),a.position.set(0,2,-6),N.velocity.subscribe((function(e){return S.current=e}))}),[]),Object(u.d)((function(){o.set(0,0,Number(w)-Number(M)),b.set(Number(k)-Number(P),0,0),i.subVectors(o,b).normalize().multiplyScalar(3),V.current.position.x=x.current.position.x,V.current.position.z=x.current.position.z,N.velocity.set(i.x,S.current[1],i.z),x.current.rotation.y=O.MathUtils.lerp(x.current.rotation.y,function(){var e=0;return!w&&!M||!P&&!k?w?e=0:M?e=Math.PI:P?e=Math.PI/2:k&&(e=-Math.PI/2):w&&P?e=Math.PI/4:w&&k?e=-Math.PI/4:M&&P?e=3*Math.PI/4:M&&k&&(e=-3*Math.PI/4),e}(),.2),L.current.getWorldPosition(x.current.position),x.current.position.y-=1,""===t&&(a.lookAt(x.current.position),a.fov=45,a.updateProjectionMatrix(),L.current.getWorldPosition(a.position),a.position.z-=6,a.position.y=2)})),Object(y.jsxs)("mesh",{children:[Object(y.jsx)("mesh",{ref:L}),Object(y.jsx)("primitive",{scale:.6,ref:x,object:f.scene,dispose:null}),Object(y.jsx)(d.a,{ref:V,scale:[.5,.5,.5],"position-y":.01,"rotation-x":-Math.PI/2})]})},w=function(e){var t=e.page,n=e.setPage,r=new O.Vector3(-10,.05,10),a=(Object(c.useRef)(null),Object(c.useRef)(null),Object(l.a)("./libs/smol_ame_in_an_upcycled_terrarium_hololiveen/scene.gltf")),i=function(){n("skills")},o=Object(j.d)((function(){return{position:Object(x.a)(r),type:"Static",args:[2.6],onCollide:i}})),u=Object(s.a)(o,2),b=u[0];u[1];return Object(c.useEffect)((function(){console.log(t)}),[t]),v(t,"skills"),Object(y.jsxs)("mesh",{children:[Object(y.jsx)("mesh",{ref:b}),Object(y.jsx)("primitive",{rotation:[0,Math.PI/2,0],position:Object(x.a)(r),scale:1,object:a.scene,dispose:null})]})};function M(e){var t=Object(j.c)((function(){return Object(o.a)({rotation:[-Math.PI/2,0,0]},e)})),n=Object(s.a)(t,1)[0];return Object(y.jsxs)("mesh",Object(o.a)(Object(o.a)({ref:n},e),{},{rotation:[-Math.PI/2,0,0],children:[Object(y.jsx)("planeBufferGeometry",{args:[100,100]}),Object(y.jsx)("meshStandardMaterial",{color:"orange"})]}))}var P=function(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),n=t[0],r=t[1];return Object(y.jsxs)(u.a,{dpr:[1,2],camera:{fov:45},style:{height:"100vh",width:"100%"},children:[Object(y.jsx)(b.a,{showPanel:0,className:"stats"}),Object(y.jsx)(f.a,{distance:45e4,sunPosition:[0,1,0],inclination:0,azimuth:.25}),Object(y.jsx)("ambientLight",{}),Object(y.jsx)("axesHelper",{args:[100]}),Object(y.jsx)("pointLight",{position:[-5,10,-2],intensity:2}),Object(y.jsxs)(j.a,{children:[Object(y.jsx)(c.Suspense,{fallback:null,children:Object(y.jsx)(w,{page:n,setPage:r})}),Object(y.jsx)(M,{}),Object(y.jsx)(c.Suspense,{fallback:null,children:Object(y.jsx)(g,{page:n,setPage:r})})]})]})};var k=function(){return Object(y.jsx)("div",{className:"App",children:Object(y.jsx)(P,{})})},I=n(22),S=function(e){e&&e instanceof Function&&(Object(I.a)(e),Object(I.c)(e),Object(I.b)(e),Object(I.d)(e),Object(I.e)(e))};i.a.render(Object(y.jsx)(r.a.StrictMode,{children:Object(y.jsx)(k,{})}),document.getElementById("root")),S()}},[[50,1,2]]]);
//# sourceMappingURL=main.e7897503.chunk.js.map