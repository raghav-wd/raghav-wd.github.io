(this["webpackJsonpraghav-wd.github.io"]=this["webpackJsonpraghav-wd.github.io"]||[]).push([[0],{45:function(e,t,n){},46:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var c=n(5),r=n.n(c),a=n(35),o=n.n(a),i=(n(45),n(46),n(11)),s=n(8),u=n(10),j=n(1),b=n(12),d=n(24),f=n(55),O=n(53),l=n(54),m=n(57),p=n(56),v=n(36),h=n(14);function x(e){var t=Object(d.c)((function(){return Object(s.a)({rotation:[-Math.PI/2,0,0]},e)})),n=Object(u.a)(t,1)[0];return Object(h.jsxs)("mesh",Object(s.a)(Object(s.a)({ref:n},e),{},{rotation:[-Math.PI/2,0,0],children:[Object(h.jsx)("planeBufferGeometry",{args:[100,100]}),Object(h.jsx)("meshStandardMaterial",{color:"orange"})]}))}var y=function(){var e,t,n=new j.Vector3,r=new j.Vector3,a=new j.Vector3;new j.Vector3,new j.Vector3;Object(c.useEffect)((function(){e=new v.a,e.addFolder("Person"),t=e.addFolder("Camera")}),[]);var o={KeyW:"forward",KeyS:"backward",KeyA:"left",KeyD:"right",Space:"jump"},y=function(e){return o[e]},w=function(){var e=Object(f.a)("./libs/Xbot.glb","/draco-gltf"),t=Object(O.a)(e.animations),o=t.ref,j=(t.mixer,t.names,t.actions),l=(t.clips,function(){var e=Object(c.useState)({forward:!1,backward:!1,left:!1,right:!1,jump:!1}),t=Object(u.a)(e,2),n=t[0],r=t[1];return Object(c.useEffect)((function(){var e=function(e){return r((function(t){return Object(s.a)(Object(s.a)({},t),{},Object(i.a)({},y(e.code),!0))}))},t=function(e){return r((function(t){return Object(s.a)(Object(s.a)({},t),{},Object(i.a)({},y(e.code),!1))}))};return document.addEventListener("keydown",e),document.addEventListener("keyup",t),function(){document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}}),[]),n}()),m=l.forward,p=l.backward,v=l.left,x=l.right,w=(l.jump,Object(c.useRef)([0,0,0]));r.set(0,0,Number(m)-Number(p)),a.set(Number(x)-Number(v),0,0),n.subVectors(r,a).normalize().multiplyScalar(5);var g=Object(d.d)((function(){return{mass:1,position:[0,1,0],type:"Dynamic"}})),k=Object(u.a)(g,2),E=k[0],S=k[1],N=Object(c.useState)("idle"),P=Object(u.a)(N,2),V=P[0];P[1];return Object(c.useEffect)((function(){return S.velocity.subscribe((function(e){return w.current=e}))}),[]),Object(c.useEffect)((function(){var e;return null===(e=j[V])||void 0===e||e.reset().fadeIn(.4).play(),function(){var e;null===(e=j[V])||void 0===e||e.fadeOut(.4)}}),[V]),Object(b.d)((function(){S.velocity.set(0,0,1),E.current.getWorldPosition(o.current.position),S.velocity.set(n.x,w.current[1],n.z),o.current.position.y-=1})),Object(h.jsxs)("mesh",{children:[Object(h.jsx)("mesh",{ref:E}),Object(h.jsx)("primitive",{ref:o,object:e.scene,dispose:null})]})};function g(){var e=Object(c.useRef)();return Object(c.useEffect)((function(){t&&(t.add(e.current.position,"x").min(0).max(5).step(.1).name("x"),t.add(e.current.position,"y").min(0).max(5).step(.1).name("y"),t.add(e.current.position,"z").min(-5).max(5).step(.05).name("z"))})),Object(h.jsx)(l.a,{fov:45,ref:e,position:[0,2,-5],makeDefault:!0})}return Object(h.jsxs)(b.a,{dpr:[1,2],camera:{fov:45},style:{height:"100vh",width:"100%"},children:[Object(h.jsx)(m.a,{showPanel:0,className:"stats"}),Object(h.jsx)(g,{}),Object(h.jsx)(p.a,{enablePan:!0,enableZoom:!0,enableRotate:!0}),Object(h.jsx)("ambientLight",{}),Object(h.jsx)("axesHelper",{args:[5]}),Object(h.jsx)(d.b,{children:Object(h.jsxs)(d.a,{children:[Object(h.jsx)(x,{}),Object(h.jsx)(c.Suspense,{fallback:null,children:Object(h.jsx)(w,{})})]})})]})};var w=function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(y,{})})},g=n(21),k=function(e){e&&e instanceof Function&&(Object(g.a)(e),Object(g.c)(e),Object(g.b)(e),Object(g.d)(e),Object(g.e)(e))};o.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(w,{})}),document.getElementById("root")),k()}},[[51,1,2]]]);
//# sourceMappingURL=main.cf5c8271.chunk.js.map