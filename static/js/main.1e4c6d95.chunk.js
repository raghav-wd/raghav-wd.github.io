(this["webpackJsonpraghav-wd.github.io"]=this["webpackJsonpraghav-wd.github.io"]||[]).push([[0],{44:function(e,t,n){},45:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var c=n(5),i=n.n(c),r=n(34),a=n.n(r),s=(n(44),n(45),n(10)),o=n(8),u=n(9),j=n(2),b=n(14),l=n(24),O=n(54),d=n(52),p=n(53),f=n(56),m=n(55),h=n(35),x=n(11);function v(e){var t=Object(l.c)((function(){return Object(o.a)({rotation:[-Math.PI/2,0,0]},e)})),n=Object(u.a)(t,1)[0];return Object(x.jsxs)("mesh",Object(o.a)(Object(o.a)({ref:n},e),{},{rotation:[-Math.PI/2,0,0],children:[Object(x.jsx)("planeBufferGeometry",{args:[100,100]}),Object(x.jsx)("meshStandardMaterial",{color:"orange"})]}))}var y=function(){var e,t,n=.15,i=new j.Vector3,r=new j.Vector3,a=new j.Vector3;new j.Vector3,new j.Vector3;Object(c.useEffect)((function(){e=new h.a,t=e.addFolder("Person"),e.addFolder("Camera")}),[]);var y={KeyW:"forward",KeyS:"backward",KeyA:"left",KeyD:"right",Space:"jump"},g=function(e){return y[e]},w=function(e){var t=Object(O.a)("./libs/stylized_tree/scene.gltf");return Object(x.jsx)("primitive",Object(o.a)(Object(o.a)({},e),{},{scale:[.01,.01,.01],object:t.scene,dispose:null}))},k=function(e){var t=Object(O.a)("./libs/low_poly_stylized_juice_cup/scene.gltf");return Object(x.jsx)("primitive",Object(o.a)(Object(o.a)({},e),{},{position:[4,1,4],object:t.scene,dispose:null}))},I=function(e){var t=Object(O.a)("./libs/piano/scene.gltf");return Object(x.jsx)("primitive",Object(o.a)(Object(o.a)({},e),{},{rotation:[0,-Math.PI/2,0],position:[4,.2,7],object:t.scene,dispose:null}))},P=function(e){var t=Object(O.a)("./libs/sunset_walking_low_poly_girl_rigged/scene.gltf");return Object(x.jsx)("primitive",Object(o.a)(Object(o.a)({},e),{},{rotation:[0,Math.PI/2,0],position:[0,.001,20],scale:.8,object:t.scene,dispose:null}))},M=function(){var e=Object(O.a)("./libs/Pikachu.glb",!0),f=Object(d.a)(e.animations),m=f.ref,h=(f.mixer,f.names,f.actions),v=(f.clips,function(){var e=Object(c.useState)({forward:!1,backward:!1,left:!1,right:!1,jump:!1}),t=Object(u.a)(e,2),n=t[0],i=t[1];return Object(c.useEffect)((function(){var e=function(e){i((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(s.a)({},g(e.code),!0))}))},t=function(e){i((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(s.a)({},g(e.code),!1))}))};return document.addEventListener("keydown",e),document.addEventListener("keyup",t),function(){document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}}),[]),n}()),y=v.forward,w=v.backward,k=v.left,I=v.right,P=v.jump,M=Object(b.f)(),S=M.camera,z=(M.mouse,Object(c.useRef)([0,0,0])),E=Object(c.useRef)(null),_=Object(l.d)((function(){return{mass:10,position:[0,1,0],type:"Dynamic"}})),L=Object(u.a)(_,2),N=L[0],V=L[1];Object(c.useEffect)((function(){return r.set(0,0,Number(y)-Number(w)),a.set(Number(I)-Number(k),0,0),i.subVectors(r,a).normalize().multiplyScalar(3),(y||I||k||w)&&(h["Happy Idle"].reset().fadeOut(n),h.Walking.reset().fadeIn(n).play()),function(){(y||I||k||w)&&(h["Happy Idle"].reset().fadeIn(n).play(),h.Walking.reset().fadeOut(n))}}),[y,w,I,k,P]),Object(c.useEffect)((function(){h["Happy Idle"].play(),S.position.set(0,2,-6),S.lookAt(0,1,0),V.velocity.subscribe((function(e){return z.current=e}))}),[]),Object(b.d)((function(){N.current.getWorldPosition(S.position),S.position.z-=6,S.position.y=2,N.current.getWorldPosition(m.current.position),E.current.position.x=m.current.position.x,E.current.position.z=m.current.position.z,V.velocity.set(i.x,z.current[1],i.z),m.current.rotation.y=j.MathUtils.lerp(m.current.rotation.y,W(),.2),m.current.position.y-=1}));var W=function(){var e=0;return!y&&!w||!k&&!I?y?e=0:w?e=Math.PI:k?e=Math.PI/2:I&&(e=-Math.PI/2):y&&k?e=Math.PI/4:y&&I?e=-Math.PI/4:w&&k?e=3*Math.PI/4:w&&I&&(e=-3*Math.PI/4),e};return Object(c.useEffect)((function(){t&&t&&(t.add(m.current.position,"x").min(0).max(5).step(.1).name("x"),t.add(m.current.position,"y").min(0).max(5).step(.1).name("y"),t.add(m.current.position,"z").min(0).max(5).step(.05).name("z"),t.add(m.current,"visible"))}),[]),Object(x.jsxs)("mesh",{children:[Object(x.jsx)("mesh",{ref:N}),Object(x.jsx)("primitive",{scale:.6,ref:m,object:e.scene,dispose:null}),Object(x.jsx)(p.a,{ref:E,scale:[.5,.5,.5],"position-y":.01,"rotation-x":-Math.PI/2})]})};return Object(x.jsxs)(b.a,{dpr:[1,2],camera:{fov:45},style:{height:"100vh",width:"100%"},children:[Object(x.jsx)(f.a,{showPanel:0,className:"stats"}),Object(x.jsx)(m.a,{distance:45e4,sunPosition:[0,1,0],inclination:0,azimuth:.25}),Object(x.jsx)("ambientLight",{}),Object(x.jsx)("axesHelper",{args:[100]}),Object(x.jsx)("pointLight",{position:[-5,10,-2],intensity:2}),Object(x.jsx)(c.Suspense,{fallback:null,children:Object(x.jsx)(P,{})}),Object(x.jsx)(c.Suspense,{fallback:null,children:Object(x.jsx)(w,{position:[2,0,0]})}),Object(x.jsx)(c.Suspense,{fallback:null,children:Object(x.jsx)(k,{})}),Object(x.jsx)(c.Suspense,{fallback:null,children:Object(x.jsx)(I,{})}),Object(x.jsxs)(l.a,{children:[Object(x.jsx)(v,{}),Object(x.jsx)(c.Suspense,{fallback:null,children:Object(x.jsx)(M,{})})]})]})};var g=function(){return Object(x.jsx)("div",{className:"App",children:Object(x.jsx)(y,{})})},w=n(21),k=function(e){e&&e instanceof Function&&(Object(w.a)(e),Object(w.c)(e),Object(w.b)(e),Object(w.d)(e),Object(w.e)(e))};a.a.render(Object(x.jsx)(i.a.StrictMode,{children:Object(x.jsx)(g,{})}),document.getElementById("root")),k()}},[[50,1,2]]]);
//# sourceMappingURL=main.1e4c6d95.chunk.js.map